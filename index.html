<!DOCTYPE html>
<html lang="ms">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Alias Tomyam</title>

<style>
body{margin:0;font-family:Arial;background:#0f0f0f;color:#fff}
.hero{text-align:center;padding:40px;background:#111}
.hero h1{font-size:40px}
.section{padding:20px}
.menu{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:12px}
.item{background:#1e1e1e;padding:10px;border-radius:10px;text-align:center}
.item img{width:100%;border-radius:8px}
.item button{margin-top:8px;padding:8px;width:100%;background:#ff7a00;border:none;color:#fff;border-radius:6px}
.cart{background:#111;padding:20px}
button.main{width:100%;padding:15px;background:#ff7a00;color:#fff;border:none;font-size:18px;border-radius:10px}
</style>
</head>

<body>

<div class="hero">
  <h1>Alias Tomyam</h1>
  <p>Pilih menu & buat pesanan</p>
</div>

<div class="section">
  <h3>Menu</h3>
  <div class="menu">
    <div class="item"><img src="images/nasi-goreng/1.jpg"><p>Nasi Goreng</p><button onclick="addItem('Nasi Goreng',6)">Tambah</button></div>
    <div class="item"><img src="images/masakan-berkuah/1.jpg"><p>Sup Ayam</p><button onclick="addItem('Sup Ayam',7)">Tambah</button></div>
    <div class="item"><img src="images/minuman/1.jpg"><p>Air Bandung</p><button onclick="addItem('Air Bandung',3)">Tambah</button></div>
  </div>
</div>

<div class="section cart">
  <h3>Pesanan</h3>
  <div id="cart"></div>
  <button class="main" onclick="submitOrder()">Hantar Pesanan</button>
</div>

<script>
const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbxcTZL8jzhfQaT7ZZ1gdrnUnxyuUgNgG7Bm9sTAuA9NFnp41fZBpYv-Ya8SI8XHvSPiSQ/exec";

let cart = [];

function addItem(name, price){
  cart.push({name, price});
  renderCart();
}

function renderCart(){
  let html = "";
  cart.forEach(i => {
    html += `â€¢ ${i.name} - RM${i.price}<br>`;
  });
  document.getElementById("cart").innerHTML = html;
}

function submitOrder(){
  if(cart.length === 0){
    alert("Sila pilih menu dahulu");
    return;
  }

  const total = cart.reduce((a,b)=>a+b.price,0);

  fetch(GOOGLE_SCRIPT_URL, {
    method: "POST",
    mode: "no-cors",
    headers: {"Content-Type":"application/json"},
    body: JSON.stringify({
      menu: cart.map(i=>i.name).join(", "),
      harga: total,
      kuantiti: cart.length,
      jumlah: total
    })
  });

  alert("Tempahan berjaya dihantar!");
  cart = [];
  renderCart();
}
</script>

</body>
</html>
