<!DOCTYPE html>
<html lang="ms">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Kedai Makan</title>

<style>
:root{
  --primary:#ff7a00;
  --bg:#f7f7f7;
  --card:#ffffff;
  --shadow:0 10px 28px rgba(0,0,0,.12);
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Arial,Helvetica,sans-serif;
  background:var(--bg);
}
header{
  background:var(--primary);
  color:#fff;
  padding:20px;
  text-align:center;
  font-size:22px;
  font-weight:bold;
}
section{padding:30px 6%}
h2{
  border-left:6px solid var(--primary);
  padding-left:12px;
}
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:20px;
}
.card{
  background:#fff;
  border-radius:16px;
  box-shadow:var(--shadow);
  overflow:hidden;
}
.card img{
  width:100%;
  height:160px;
  object-fit:cover;
}
.info{padding:14px}
.price{color:var(--primary);font-weight:bold}
button{
  background:var(--primary);
  color:#fff;
  border:none;
  padding:8px 12px;
  border-radius:6px;
  cursor:pointer;
}
.admin{
  background:#fff3e0;
  padding:20px;
  margin:20px;
  border-radius:12px;
}
input,select{
  width:100%;
  padding:8px;
  margin-bottom:10px;
}
footer{text-align:center;padding:20px;color:#777}
</style>
</head>

<body>

<header>üçΩÔ∏è Menu Kedai Makan</header>

<div id="adminPanel" class="admin" style="display:none">
  <h3>üîß Admin Panel</h3>
  <select id="cat">
    <option>nasi-goreng</option>
    <option>masakan-berkuah</option>
    <option>minuman</option>
    <option>pencuci-mulut</option>
  </select>
  <input id="name" placeholder="Nama menu">
  <input id="price" type="number" placeholder="Harga">
  <input id="img" placeholder="Nama gambar (contoh: 1.jpg)">
  <button onclick="addMenu()">‚ûï Tambah Menu</button>
</div>

<section id="menu"></section>

<footer>¬© Kedai Makan</footer>

<script>
const isAdmin = location.search.includes("admin=1");

if(isAdmin){
  document.getElementById("adminPanel").style.display="block";
}

let data = JSON.parse(localStorage.getItem("MENU")) || {
  "nasi-goreng":[],
  "masakan-berkuah":[],
  "minuman":[],
  "pencuci-mulut":[]
};

function save(){ localStorage.setItem("MENU",JSON.stringify(data)); render(); }

function addMenu(){
  const c = cat.value;
  data[c].push({
    name:name.value,
    price:price.value,
    img:`${c}/${img.value}`
  });
  save();
}

function del(cat,i){
  data[cat].splice(i,1);
  save();
}

function render(){
  menu.innerHTML="";
  for(const cat in data){
    if(!data[cat].length) continue;
    menu.innerHTML += `<h2>${cat.replace("-"," ").toUpperCase()}</h2><div class="grid">`;
    data[cat].forEach((m,i)=>{
      menu.innerHTML += `
      <div class="card">
        <img src="${m.img}">
        <div class="info">
          <b>${m.name}</b><br>
          <span class="price">RM${Number(m.price).toFixed(2)}</span>
          ${isAdmin?`<br><button onclick="del('${cat}',${i})">üóë Padam</button>`:""}
        </div>
      </div>`;
    });
    menu.innerHTML += "</div>";
  }
}
render();
</script>

</body>
</html>
